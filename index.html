<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AI Complaint Resolver</title>
  <style>
    :root {
      --accent: #0f62fe;
      --bg: url('new-background.jpg'); /* Changed background image path */
    }
    html, body {
      height: 100%;
      margin: 0;
      font-family: Inter, system-ui, Segoe UI, Roboto, Arial;
      color: #222;
    }
    body {
      background-color: #f5f7fb;
      display: grid;
      place-items: center;
      padding: 20px;
    }
    .app {
      width: 100%;
      max-width: 1000px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(12, 20, 40, 0.08);
      overflow: hidden;
      display: grid;
      grid-template-columns: 1fr 420px;
    }
    .left {
      padding: 28px;
    }
    h1 {
      margin: 0 0 6px;
      font-size: 20px;
    }
    p.lead {
      margin: 0 0 18px;
      color: #475569;
    }
    form .row {
      display: flex;
      gap: 10px;
    }
    label {
      display: block;
      font-size: 12px;
      color: #334155;
      margin-bottom: 8px;
    }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #e6eef8;
      border-radius: 8px;
      background: #fcfeff;
      box-sizing: border-box;
    }
    textarea {
      min-height: 110px;
      resize: vertical;
    }
    .controls {
      display: flex;
      gap: 8px;
      margin-top: 12px;
    }
    button {
      background: var(--accent);
      color: white;
      border: 0;
      padding: 10px 12px;
      border-radius: 10px;
      cursor: pointer;
    }
    button.secondary {
      background: #eef2ff;
      color: #0f62fe;
    }
    .right {
      background: linear-gradient(180deg, #fbfdff, #f6fbff);
      padding: 18px;
      border-left: 1px solid #f1f5f9;
    }
    .preview {
      background: #fff;
      border: 1px dashed #e6eef8;
      padding: 12px;
      border-radius: 8px;
      min-height: 120px;
    }
    .list {
      margin-top: 12px;
    }
    .complaint-card {
      border: 1px solid #eef2ff;
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 10px;
      background: white;
    }
    .meta {
      font-size: 12px;
      color: #475569;
    }
    .status {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 999px;
      font-size: 12px;
    }
    .status.submitted {
      background: #eef2ff;
      color: #0f62fe;
    }
    .status.inprogress {
      background: #fff4e6;
      color: #b45309;
    }
    .status.resolved {
      background: #ecfdf5;
      color: #027a48;
    }
    .upload-preview {
      height: 88px;
      width: 100%;
      object-fit: cover;
      border-radius: 8px;
      margin-top: 8px;
      border: 1px solid #e6eef8;
    }
    footer {
      font-size: 12px;
      color: #64748b;
      margin-top: 12px;
    }
    .small {
      font-size: 12px;
      color: #64748b;
    }
    /* responsive */
    @media (max-width: 920px) {
      .app {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="app" role="application">
    <div class="left">
      <h1>AI Complaint Resolver</h1>
      <p class="lead">Enter a brief complaint in plain text. The app will format it professionally, pick the likely authority, and create a trackable ticket.</p>

      <form id="complaintForm" autocomplete="off">
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
          <div>
            <label for="name">Your name</label>
            <input id="name" placeholder="e.g. Ravi Kumar" />
          </div>
          <div>
            <label for="contact">Contact (phone/email)</label>
            <input id="contact" placeholder="e.g. +91 xxxx or ravi@example.com" />
          </div>
        </div>

        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px">
          <div>
            <label for="type">Complaint type</label>
            <select id="type">
              <option>Electricity</option>
              <option>Internet</option>
              <option>Water</option>
              <option>Road/Public Infrastructure</option>
              <option>Garbage / Sanitation</option>
              <option>Other</option>
            </select>
          </div>
          <div>
            <label for="location">Location (address / landmark)</label>
            <input id="location" placeholder="e.g. 12B, MG Road, Chennai" />
          </div>
        </div>

        <div style="margin-top:10px">
          <label for="raw">Describe your complaint (plain text)</label>
          <textarea id="raw" placeholder="Type your complaint in plain language. e.g. 'Power outage since last night near transformer, sparking noticed.'"></textarea>
        </div>

        <div style="margin-top:10px">
          <label for="photo">Photo (optional)</label>
          <input id="photo" type="file" accept="image/*" />
          <img id="photoPreview" class="upload-preview" alt="Preview" style="display:none" />
        </div>

        <div class="controls">
          <button type="button" id="formatBtn">Format Complaint</button>
          <button type="button" class="secondary" id="detectBtn">Suggest Authority</button>
          <button type="button" id="sendBtn">Send to Authority</button>
          <button type="button" class="secondary" id="saveLocalBtn">Save Locally</button>
        </div>
      </form>

      <div style="margin-top:14px">
        <label>Formatted complaint</label>
        <div id="formatted" class="preview">(formatted message will appear here)</div>
        <div style="margin-top:8px;display:flex;gap:8px">
          <button id="copyBtn">Copy</button>
          <button id="downloadBtn" class="secondary">Download as .txt</button>
        </div>
      </div>

      <footer>
        <div class="small">Tip: replace the background.jpg file and the tools.jpg image files in the same folder to customize look and "real mechanics tools" photo.</div>
      </footer>
    </div>

    <aside class="right">
      <h3 style="margin:0">Complaint Tracker</h3>
      <p class="small">Saved complaints & statuses</p>

      <div id="tickets" class="list"></div>

      <hr />
      <div style="margin-top:8px">
        <label>Simulate status update</label>
        <div style="display:flex;gap:8px;margin-top:8px">
          <select id="ticketSelect"></select>
          <select id="statusSelect">
            <option value="Submitted">Submitted</option>
            <option value="In Progress">In Progress</option>
            <option value="Resolved">Resolved</option>
          </select>
          <button id="updateStatusBtn">Update</button>
        </div>
      </div>

      <div style="margin-top:14px">
        <label>Authority selected</label>
        <div id="authority" class="meta">(no authority suggested yet)</div>
      </div>

      <div style="margin-top:12px">
        <label>Preview photo (tools / background)</label>
        <img src="new-tools.jpg" alt="tools" style="width:100%;height:120px;object-fit:cover;border-radius:8px;margin-top:8px;border:1px solid #e6eef8" /> <!-- Changed tools image path -->
      </div>
    </aside>
  </div>

  <script>
   
